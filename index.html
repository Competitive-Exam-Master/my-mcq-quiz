<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GitHub Quiz App</title>
    <link rel="stylesheet" href="style.css">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
<meta http-equiv="Pragma" content="no-cache">
<meta http-equiv="Expires" content="0">
</head>
<body>
    <div class="container">
        <h1>Haryana Gk Quiz by Vinay Godara</h1>

        <form id="quizSelectorForm">
            <h2>Select Quizzes</h2>
            <label for="quizDatabases">Choose quiz databases (multiple selection allowed):</label>
            <select id="quizDatabases" multiple size="5">
                </select>
            <button type="submit">Start Quiz</button>
            <p id="remainingQuestions" style="margin-top: 15px; font-style: italic;"></p>
        </form>

        <div id="quizContainer" style="display:none;">
            <div id="timer">Time: 00:00</div>
            <div id="questionNumber"></div>
            <h3 id="questionText"></h3>
            <div id="optionsContainer">
                </div>
            <button id="nextQuestionBtn" style="display:none;">Next Question</button>
        </div>

        <div id="resultContainer" style="display:none;">
            <h2>Quiz Results</h2>
            <p>Correct Answers: <span id="correctCount"></span></p>
            <p>Wrong Answers: <span id="wrongCount"></span></p>
            <p>Total Questions: <span id="totalCount"></span></p>
            <p>Time Taken: <span id="timeTaken"></span></p>
            <button id="restartQuizBtn">Start New Quiz</button>
            <button id="resetLearningBtn" class="reset-button">Reset Learning Progress</button>
        </div>

        <div class="data-management-section">
            <h2>Manage Learning Data</h2>
            <p>You can save your learning progress to a file and load it later, or on another device.</p>

            <div class="export-data-section">
                <h3>Export Data</h3>
                <button id="exportDataBtn">Download My Progress</button>
            </div>

            <div class="import-data-section">
                <h3>Import Data</h3>
                <p>Select a previously downloaded progress file:</p>
                <input type="file" id="importDataFile" accept=".json">
                <button id="importDataBtn" style="display:none;">Upload and Load Progress</button>
                <button id="clearLoadedFileBtn" style="display:none;">Clear Selected File</button>
            </div>
        </div>
        </div>
<script>
if ('caches' in window) {
      caches.keys().then(function(names) {
        names.forEach(name => caches.delete(name));
        console.log('Cleared service worker caches.');
      }).catch(err => console.error('Error clearing caches:', err));
    }
    // This will cause a full page reload, potentially bypassing more cache
    // It should be at the very end of the body, or carefully managed.
    // Be aware this causes a reload *every time* the page is visited/refreshed.
    // If you only want it for development, remove it for production.
    // window.location.reload(true);
</script>
    <script src="script.js"></script>
</body>
</html>
